<html>

<head>
    <script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>
    <script src="./draggable-component.js"></script>
    <style>
    #button{
      position: absolute;
     left: 200px;
     top: 0px;
    }
    </style>

</head>
<body>
    <a-scene vr-mode-ui="enabled: false">
        <a-sky id="environment-sky" src="./sky.jpg" radius="30" getid></a-sky>
        <a-entity id= 'hots'>
            <a-sphere id='hotspot' color='white' scale='.5 .5 .5' position='0 1 -8' opacity='0.8' getid>
                <a-animation attribute='scale' from='.3 .3 .3' to='.5 .5 .5' repeat='indefinite' dur='1000'></a-animation>
            </a-sphere>

        </a-entity>
        <a-camera id="camera" look-controls="enabled: true;" wasd-controls-enabled="false" mouse-cursor draggable-component="true">
            <a-cursor id="cursor" fuse="false; fuseTimeout:10000" visible="false"></a-cursor>
        </a-camera>
    </a-scene>
    <script>
      var rota = document.querySelector('#camera').getAttribute('rotation');
    </script>

    <input id ="button" type="button" value="hotspot"
    onclick="var rota = document.querySelector('#camera').getAttribute('rotation');
    var posit = {x:0, y:0, z:0};
    console.log(rota);
    posit.x = -1*Math.sqrt(65)*Math.cos(rota.x* (Math.PI/180))*Math.sin(rota.y* (Math.PI/180));
    posit.y = Math.sqrt(65)*Math.sin(rota.x* (Math.PI/180))+1.6;
    posit.z = -1*Math.sqrt(65)*Math.cos(rota.x* (Math.PI/180))*Math.cos(rota.y* (Math.PI/180));
    console.log(posit);
    var sceneEl = document.querySelector('a-scene');
    var sphereEl = document.createElement('a-sphere');
    var animaEl = document.createElement('a-animation');
    animaEl.setAttribute('attribute', 'scale');
    animaEl.setAttribute('from','.3 .3 .3');
    animaEl.setAttribute('to','.5 .5 .5');
    animaEl.setAttribute('repeat','indefinite');
    animaEl.setAttribute('dur','1000');
    sphereEl.appendChild(animaEl);
    sphereEl.setAttribute('position', posit);
    sphereEl.setAttribute('color', 'white');
    sphereEl.setAttribute('scale', '.5 .5 .5');
    sphereEl.setAttribute('opacity', '0.8');
    sphereEl.setAttribute('getid','');
    sceneEl.appendChild(sphereEl);
    ">
</body>

</html>
